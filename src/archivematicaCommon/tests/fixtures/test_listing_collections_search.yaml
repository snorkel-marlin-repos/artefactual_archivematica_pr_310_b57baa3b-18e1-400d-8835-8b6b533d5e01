interactions:
- request:
    body: expiring=False&password=admin
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['29']
      Content-Type: [application/x-www-form-urlencoded]
      User-Agent: [python-requests/2.7.0 CPython/2.7.6 Linux/3.13.0-63-generic]
    method: POST
    uri: http://localhost:8089/users/admin/login
  response:
    body: {string: !!python/unicode '{"session":"f8fb69f71f8e709c3286d60f9597acc256bedb44966d6465e3130f9e398fdc17","user":{"lock_version":279,"username":"admin","name":"Administrator","is_system_user":true,"create_time":"2015-06-11T17:04:21Z","system_mtime":"2015-10-27T23:39:30Z","user_mtime":"2015-10-27T23:39:30Z","jsonmodel_type":"user","groups":[],"is_admin":true,"uri":"/users/1","agent_record":{"ref":"/agents/people/1"},"permissions":{"/repositories/1":["update_location_record","delete_vocabulary_record","update_subject_record","delete_subject_record","update_agent_record","delete_agent_record","update_vocabulary_record","merge_subject_record","merge_agent_record","administer_system","become_user","cancel_importer_job","create_repository","delete_archival_record","delete_classification_record","delete_event_record","delete_repository","import_records","index_system","manage_agent_record","manage_repository","manage_subject_record","manage_users","manage_vocabulary_record","mediate_edits","merge_agents_and_subjects","merge_archival_record","suppress_archival_record","system_config","transfer_archival_record","transfer_repository","update_accession_record","update_classification_record","update_digital_object_record","update_event_record","update_resource_record","view_all_records","view_repository","view_suppressed"],"_archivesspace":["administer_system","become_user","cancel_importer_job","create_repository","delete_archival_record","delete_classification_record","delete_event_record","delete_repository","import_records","index_system","manage_agent_record","manage_repository","manage_subject_record","manage_users","manage_vocabulary_record","mediate_edits","merge_agents_and_subjects","merge_archival_record","suppress_archival_record","system_config","transfer_archival_record","transfer_repository","update_accession_record","update_classification_record","update_digital_object_record","update_event_record","update_resource_record","view_all_records","view_repository","view_suppressed","update_location_record","delete_vocabulary_record","update_subject_record","delete_subject_record","update_agent_record","delete_agent_record","update_vocabulary_record","merge_subject_record","merge_agent_record"]}}}

'}
    headers:
      cache-control: ['private, must-revalidate, max-age=0']
      content-length: ['2206']
      content-type: [application/json]
      date: ['Tue, 27 Oct 2015 23:39:30 GMT']
      server: [Jetty(8.1.5.v20120716)]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.7.0 CPython/2.7.6 Linux/3.13.0-63-generic]
      X-ArchivesSpace-Session: [!!python/unicode f8fb69f71f8e709c3286d60f9597acc256bedb44966d6465e3130f9e398fdc17]
    method: GET
    uri: http://localhost:8089/repositories/2/search?q=primary_type%3Aresource+AND+title%3ATest+fonds&page=1&page_size=30
  response:
    body: {string: !!python/unicode '{"first_page":1,"last_page":1,"this_page":1,"offset_first":1,"offset_last":1,"total_hits":1,"results":[{"id":"/repositories/2/resources/1","title":"Test
        fonds","primary_type":"resource","types":["resource"],"json":"{\"lock_version\":1,\"title\":\"Test
        fonds\",\"publish\":false,\"restrictions\":false,\"created_by\":\"admin\",\"last_modified_by\":\"admin\",\"create_time\":\"2015-06-11T17:08:42Z\",\"system_mtime\":\"2015-08-12T20:24:17Z\",\"user_mtime\":\"2015-08-12T20:24:17Z\",\"suppressed\":false,\"id_0\":\"F1\",\"language\":\"eng\",\"level\":\"fonds\",\"jsonmodel_type\":\"resource\",\"external_ids\":[],\"subjects\":[],\"linked_events\":[],\"extents\":[{\"lock_version\":0,\"number\":\"1\",\"created_by\":\"admin\",\"last_modified_by\":\"admin\",\"create_time\":\"2015-08-12T20:24:18Z\",\"system_mtime\":\"2015-08-12T20:24:18Z\",\"user_mtime\":\"2015-08-12T20:24:18Z\",\"portion\":\"whole\",\"extent_type\":\"cassettes\",\"jsonmodel_type\":\"extent\"}],\"dates\":[{\"lock_version\":0,\"begin\":\"2015-01-01\",\"created_by\":\"admin\",\"last_modified_by\":\"admin\",\"create_time\":\"2015-08-12T20:24:18Z\",\"system_mtime\":\"2015-08-12T20:24:18Z\",\"user_mtime\":\"2015-08-12T20:24:18Z\",\"date_type\":\"single\",\"label\":\"creation\",\"jsonmodel_type\":\"date\"}],\"external_documents\":[],\"rights_statements\":[],\"linked_agents\":[],\"instances\":[],\"deaccessions\":[],\"related_accessions\":[{\"ref\":\"/repositories/2/accessions/1\"}],\"notes\":[],\"uri\":\"/repositories/2/resources/1\",\"repository\":{\"ref\":\"/repositories/2\"},\"tree\":{\"ref\":\"/repositories/2/resources/1/tree\"}}","suppressed":false,"publish":false,"system_generated":false,"repository":"/repositories/2","created_by":"admin","last_modified_by":"admin","user_mtime":"2015-08-12T20:24:17Z","system_mtime":"2015-08-12T20:24:17Z","create_time":"2015-06-11T17:08:42Z","level":"fonds","identifier":"F1","language":"eng","restrictions":"false","four_part_id":"F1","uri":"/repositories/2/resources/1","jsonmodel_type":"resource"}],"facets":{"facet_queries":{},"facet_fields":{},"facet_dates":{},"facet_ranges":{}}}

'}
    headers:
      cache-control: ['private, must-revalidate, max-age=0']
      content-length: ['2100']
      content-type: [application/json]
      date: ['Tue, 27 Oct 2015 23:39:30 GMT']
      server: [Jetty(8.1.5.v20120716)]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.7.0 CPython/2.7.6 Linux/3.13.0-63-generic]
      X-ArchivesSpace-Session: [!!python/unicode f8fb69f71f8e709c3286d60f9597acc256bedb44966d6465e3130f9e398fdc17]
    method: GET
    uri: http://localhost:8089/repositories/2/resources/1/tree?page=1
  response:
    body: {string: !!python/unicode '{"title":"Test fonds","id":1,"node_type":"resource","publish":false,"suppressed":false,"children":[{"title":"Test
        series","id":1,"record_uri":"/repositories/2/archival_objects/1","publish":false,"suppressed":false,"node_type":"archival_object","level":"series","has_children":true,"children":[{"title":"Test
        subseries","id":3,"record_uri":"/repositories/2/archival_objects/3","publish":false,"suppressed":false,"node_type":"archival_object","level":"subseries","has_children":true,"children":[{"title":"Test
        file","id":4,"record_uri":"/repositories/2/archival_objects/4","publish":false,"suppressed":false,"node_type":"archival_object","level":"file","has_children":false,"children":[],"instance_types":[],"containers":[]}],"instance_types":[],"containers":[]},{"title":"New
        new new child","id":10,"record_uri":"/repositories/2/archival_objects/10","publish":false,"suppressed":false,"node_type":"archival_object","level":"series","has_children":false,"children":[],"instance_types":[],"containers":[]}],"instance_types":[],"containers":[]},{"title":"Test
        series 2","id":2,"record_uri":"/repositories/2/archival_objects/2","publish":false,"suppressed":false,"node_type":"archival_object","level":"series","has_children":false,"children":[],"instance_types":[],"containers":[]}],"record_uri":"/repositories/2/resources/1","level":"fonds","jsonmodel_type":"resource_tree","instance_types":[],"containers":[]}

'}
    headers:
      cache-control: ['private, must-revalidate, max-age=0']
      content-length: ['1407']
      content-type: [application/json]
      date: ['Tue, 27 Oct 2015 23:39:30 GMT']
      server: [Jetty(8.1.5.v20120716)]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.7.0 CPython/2.7.6 Linux/3.13.0-63-generic]
      X-ArchivesSpace-Session: [!!python/unicode f8fb69f71f8e709c3286d60f9597acc256bedb44966d6465e3130f9e398fdc17]
    method: GET
    uri: http://localhost:8089/repositories/2/search?q=primary_type%3Aresource+AND+title%3ANo+such+fonds&page=1&page_size=30
  response:
    body: {string: !!python/unicode '{"first_page":1,"last_page":0,"this_page":1,"offset_first":1,"offset_last":0,"total_hits":0,"results":[],"facets":{"facet_queries":{},"facet_fields":{},"facet_dates":{},"facet_ranges":{}}}

'}
    headers:
      cache-control: ['private, must-revalidate, max-age=0']
      content-length: ['189']
      content-type: [application/json]
      date: ['Tue, 27 Oct 2015 23:39:30 GMT']
      server: [Jetty(8.1.5.v20120716)]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
version: 1
